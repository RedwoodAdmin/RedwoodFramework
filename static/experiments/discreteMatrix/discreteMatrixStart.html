<div class="navbar navbar-fixed-top container">
	<div class="navbar navbar-default" style="margin-bottom: 0;">
		<div class="navbar-brand" href="#">Economics Experiment</div>
		<ul class="nav navbar-nav">
			<li class="active">
				<a>User ID: <span>{{$root.user_id}}</span></a>
			</li>
		</ul>
		<div class="navbar-right">
			<div class="navbar-text">Period: <span>{{$root.period}}</span></div>
			<div class="navbar-text">Round: <span>{{round}} / {{rounds}}</span></div>
			<div class="navbar-text">Total Reward: <span>{{$root.totalPoints}}</span></div>
		</div>
	</div>
</div>

<div class="container">

	<key-press key-code="38" callback="onSelection(1)"></key-press>
	<key-press key-code="40" callback="onSelection(2)"></key-press>
	<key-press key-code="13" callback="confirm()"></key-press>

	<div class="row">
		<div class="col-lg-2"></div>
		<div class="col-lg-10">
			<div class="row">
				<div class="col-lg-5">
					<div class="row">
						<div class="col-lg-12">
							<table id="input-matrix" class="table table-bordered table-condensed">
								<tr style="height:40px;">
									<td></td>
									<td ng-class="{'selected': prevPartnerAction == 1}">A</td>
									<td ng-class="{'selected': prevPartnerAction == 2}">B</td>
								</tr>
								<tr style="height:40px;">
									<td class="input-cell" ng-class="{'selected': selection == 1}">
										<span class="disabled" ng-hide="inputsEnabled">A</span>
										<a ng-click="onSelection(1)" ng-show="inputsEnabled" class="input-link" href>A</a>
									</td>
									<td ng-class="{'selected': prevPartnerAction == 1 || selection == 1, 'double-selected': prevPartnerAction == 1 && selection == 1}">
										<strong>{{matrix[0][0][0]}}</strong>, <span>{{matrix[0][0][1]}}</span>
									</td>
									<td ng-class="{'selected': prevPartnerAction == 2 || selection == 1, 'double-selected': prevPartnerAction == 2 && selection == 1}">
										<strong>{{matrix[0][1][0]}}</strong>, <span>{{matrix[0][1][1]}}</span>
									</td>
								</tr>
								<tr style="height:40px;">
									<td class="input-cell" ng-class="{'selected': selection == 2}">
										<span class="disabled" ng-hide="inputsEnabled">B</span>
										<a ng-click="onSelection(2)" ng-show="inputsEnabled" class="input-link" href>B</a>
									</td>
									<td ng-class="{'selected': prevPartnerAction == 1 || selection == 2, 'double-selected': prevPartnerAction == 1 && selection == 2}">
										<strong>{{matrix[1][0][0]}}</strong>, <span>{{matrix[1][0][1]}}</span>
									</td>
									<td ng-class="{'selected': prevPartnerAction == 2 || selection == 2, 'double-selected': prevPartnerAction == 2 && selection == 2}">
										<strong>{{matrix[1][1][0]}}</strong>, <span>{{matrix[1][1][1]}}</span>
									</td>
								</tr>
							</table>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-12">
							<button ng-click="confirm()" ng-disabled="!inputsEnabled" class="btn btn-success">Ready</button>
						</div>
					</div>
				</div>
				<div class="col-lg-2"></div>
				<div class="col-lg-5" style="border-left: 1px solid #eee;">
					<p>Previous Round:</p>
					<table id="results-table" class="table table-bordered table-condensed">
						<tr>
							<th></th>
							<th>Action</th>
							<th>Reward</th>
						</tr>
						<tr style="font-weight:bold;">
							<td>You</td>
							<td>{{prevAction | action}}</td>
							<td>{{reward}}</td>
						</tr>
						<tr>
							<td>Counterpart</td>
							<td>{{prevPartnerAction | action}}</td>
							<td>{{partnerReward}}</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<hr style="margin-top:20px;"/>
		<div class="col-lg-12" id="footer">
		</div>
	</div>
</div>
